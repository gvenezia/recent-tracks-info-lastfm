{"version":3,"sources":["components/FeaturedSongCard.js","components/RecentPlaysList.js","apis/lastfm.js","apis/disconnectDiscogs.js","apiKeys/lastfm.js","actions/index.js","components/App.js","reducers/index.js","reducers/artistReducer.js","reducers/creditsReducer.js","reducers/songsReducer.js","reducers/userReducer.js","index.js"],"names":["FeaturedSongCard","exists","x","_this$props","this","props","song","artist","artists","date","artistObj","find","curr","name","blockedTags","concat","tagsF","tags","tag","filter","indexOf","react_default","a","createElement","style","marginTop","className","width","alt","src","image","length","data-tip","stats","userplaycount","data-for","album","bio","content","ReactHtmlParser","slice","map","i","dist_default","getContent","dataTip","id","place","type","effect","Component","connect","state","RecentPlaysList","songs","moment","unix","uts","fromNow","components_FeaturedSongCard","key","renderList","user","axiosLastfm","axios","create","baseURL","disconnect","Discogs","require","Client","consumerKey","consumerSecret","lastfmKeyAndConfig","process","fetchSongs","database","arguments","undefined","_ref2","Object","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","getState","response","wrap","_context2","prev","next","get","sent","console","log","payload","data","recenttracks","track","stop","_x3","_x4","apply","fetchArtist","_ref3","_callee3","URIEncodedArtist","_context3","encodeURIComponent","_x5","App","setUser","fetchSongsAndArtists","checkAPI","event","preventDefault","_this","setInterval","components_RecentPlaysList","credits","_ref","_callee","URIEncodedUser","stateMbids","_getState","newSongs","fetchedArtists","stateArtists","newArtists","_context","_","uniq","currObj","originalArr","currMapObj","url","mbid","forEach","_x","_x2","combineReducers","action","toConsumableArray","clear","ReactDOM","render","es","store","createStore","reducers","applyMiddleware","thunk","components_App","document","querySelector"],"mappings":"oTAKMA,mLAGJ,IAAMC,EAAS,SAAAC,GAAC,MAAiB,qBAANA,GAFnBC,EAK8BC,KAAKC,MAArCC,EALEH,EAKFG,KAAMC,EALJJ,EAKII,OAAQC,EALZL,EAKYK,QAASC,EALrBN,EAKqBM,KAGzBC,EAAYF,EAAQG,KAAM,SAAAC,GAAI,OAAIA,EAAKC,OAASN,IAGhDO,EAAc,CAAC,YAAa,MAAO,uBAAwB,cAA7C,GAAAC,OAA+DR,IAE7ES,EAAQ,GAMZ,OAJIf,EAAOS,KACVM,EAAQN,EAAUO,KAAKC,IAAIC,OAAO,SAAAD,GAAG,OAAuC,IAAnCJ,EAAYM,QAAQF,EAAIL,SAIjEQ,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAACC,UAAW,QAASC,UAAU,qBAC1CL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,oBACdL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAACG,MAAS,SAAUD,UAAU,SACxCL,EAAAC,EAAAC,cAAA,OACFK,IAAI,YACJC,IAAMvB,EAAKwB,MAAM,GAAG,SAASC,OAAS,EAChCzB,EAAKwB,MAAM,GAAG,SACd,wDAGNT,EAAAC,EAAAC,cAAA,OAAKG,UAAU,WACbL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,UAAb,IAAwBpB,EAAKO,KAA7B,KACAQ,EAAAC,EAAAC,cAAA,OAAKG,UAAU,QACbL,EAAAC,EAAAC,cAAA,QAAMG,UAAU,SACa,IAA1BzB,EAAOK,EAAK,UACb,sBACAG,IAGJY,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACbL,EAAAC,EAAAC,cAAA,QAAMS,WAAW/B,EAAOS,GAAaA,EAAUuB,MAAMC,cAAgB,MAChEC,WAAU5B,EAAS,iBACpBA,GAHN,WAIgBD,EAAK8B,MAAM,UAE9Bf,EAAAC,EAAAC,cAAA,OAAKG,UAAU,SACZL,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,KAAGG,UAAU,cACXzB,EAAOS,KACPA,EAAU2B,IAAIC,QAAQP,OAAS,EAC/B,MACArB,EAAU2B,IAAIC,QAAQP,QAAU,IAC/BQ,IAAgB7B,EAAU2B,IAAIC,SAC9BC,IAAgB7B,EAAU2B,IAAIC,QAAQE,MAAM,EAAG,KAAO,SAG3DnB,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAA,KAAGG,UAAU,eAEZV,EAAMyB,IAAK,SAACvB,EAAKwB,GACjB,OAAOA,EAAI,IAAM1B,EAAMe,OAAhB,GAAAhB,OACHG,EAAIL,MADD,GAAAE,OAEHG,EAAIL,KAFD,SAOTQ,EAAAC,EAAAC,cAACoB,EAAArB,EAAD,CACCsB,WAAY,SAACC,GAAD,gBAAA9B,OAAuB8B,IACnCC,GAAIvC,EAAS,gBACbwC,MAAM,OACNC,KAAK,OACLC,OAAO,sBA1EcC,aAyFhBC,cAJS,SAAAC,GACvB,MAAO,CAAE5C,QAAS4C,EAAM5C,UAGV2C,CAAyBnD,GCvFlCqD,uLAIJ,IAAMpD,EAAS,SAAAC,GAAC,MAAiB,qBAANA,GAFfC,EAIaC,KAAKC,MAAxBiD,EAJMnD,EAINmD,MAAO9C,EAJDL,EAICK,QAGb,OAAO8C,EAAMb,IAAK,SAACnC,EAAMoC,GAGxB,IAAI7B,EAASZ,EAAOK,EAAKO,MAAQP,EAAKO,KAAO,MAC3CN,EAASN,EAAOK,EAAKC,QAAUD,EAAKC,OAAO,SAAW,MACtD6B,EAASnC,EAAOK,EAAK8B,OAAS9B,EAAK8B,MAAM,SAAW,MACpD3B,EAASR,EAAOK,EAAKG,MAAQ8C,IAAOC,KAAKlD,EAAKG,KAAKgD,KAAKC,UAAY,MAGlEhD,EAAYF,EAAQG,KAAM,SAAAC,GAAI,OAAIA,EAAKC,OAASN,IAGhDO,EAAc,IAAAC,OAAKR,GAAU,YAAa,MAAO,uBAAwB,eAEzES,EAAQ,GAOZ,OALIf,EAAOS,KACVM,EAAQN,EAAUO,KAAKC,IAAIC,OAAO,SAAAD,GAAG,OAAuC,IAAnCJ,EAAYM,QAAQF,EAAIL,SAI9D6B,EAAI,EAENrB,EAAAC,EAAAC,cAACoC,EAAD,CACCrD,KAAMA,EACNC,OAAQA,EACRE,KAAMA,EACNmD,IAAKlB,IAOPrB,EAAAC,EAAAC,cAAA,OAAKqC,IAAKlB,EAAGlB,MAAO,CAACC,UAAW,QAASC,UAAU,oBAClDL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,WACdL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,SACdL,EAAAC,EAAAC,cAAA,OACCK,IAAI,YACJC,IAAMvB,EAAKwB,MAAM,GAAG,SAASC,OAAS,EAChCzB,EAAKwB,MAAM,GAAG,SACd,wDAGRT,EAAAC,EAAAC,cAAA,OAAKG,UAAU,WACdL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,UAAb,IAAwBb,EAAxB,KACAQ,EAAAC,EAAAC,cAAA,OAAKG,UAAU,QACdL,EAAAC,EAAAC,cAAA,QAAMG,UAAU,QAASjB,IAE1BY,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACdL,EAAAC,EAAAC,cAAA,QAAMS,WAAW/B,EAAOS,GAAaA,EAAUuB,MAAMC,cAAgB,MAC7DC,WAAU5B,EAAS,OACpBA,GAHR,WAIkB6B,IAGnBf,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iBACdL,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAA,KAAGG,UAAU,cACXzB,EAAOS,GACRA,EAAU2B,IAAIC,QAAQE,MAAM,EAAG,KAAO,MACtC,cAEFnB,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAA,KAAGG,UAAU,eAEZV,EAAMyB,IAAK,SAACvB,EAAKwB,GACf,OAAOA,EAAI,IAAM1B,EAAMe,OAAhB,GAAAhB,OACHG,EAAIL,MADD,GAAAE,OAEHG,EAAIL,KAFD,SAORQ,EAAAC,EAAAC,cAACoB,EAAArB,EAAD,CACCsB,WAAY,SAACC,GAAD,gBAAA9B,OAAuB8B,IACnCC,GAAIvC,EAAS,MACbwC,MAAM,OACNC,KAAK,OACLC,OAAO,gDAShB,OACC5B,EAAAC,EAAAC,cAAA,OAAKG,UAAU,mBACZtB,KAAKyD,qBAnGmBX,aAkHfC,cARS,SAAAC,GACvB,MAAO,CACNE,MAAOF,EAAME,MACb9C,QAAS4C,EAAM5C,QACfsD,KAAMV,EAAMU,OAICX,CAAyBE,qDCnHzBU,SAJKC,EAAMC,OAAO,CAChCC,QAAO,uCCIOC,EALI,IAAIC,EAFTC,EAAQ,KAAcC,QAEL,0BAA2B,CACxDC,YAAa,uBACZC,eAAgB,qCCJNC,EAAkB,YAAA1D,OAAe2D,mCAAf,gBCsDlBC,GAjDFR,EAAWS,WAiDI,eAACd,EAADe,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAQ,GAAR,sBAAAE,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAA5D,EAAA6D,KAAe,SAAAC,EAAOC,EAAUC,GAAjB,IAAAC,EAAA,OAAAL,EAAA5D,EAAAkE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACjB5B,EAAY6B,IAAZ,2CAAA7E,OAEd+C,EAFc,yBAAA/C,OAIpB0D,IALqC,OAClCc,EADkCE,EAAAI,KAQxCC,QAAQC,IAAIR,GAEZF,EAAU,CACTrC,KAAM,cACNgD,QAAST,EAASU,KAAKC,aAAaC,QAZG,wBAAAV,EAAAW,SAAAhB,MAAf,gBAAAiB,EAAAC,GAAA,OAAAvB,EAAAwB,MAAAnG,KAAAyE,YAAA,KAgBb2B,EAAc,eAACjG,EAADsE,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAU,GAAIf,EAAde,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAqB,GAArB,sBAAA4B,EAAAzB,OAAAC,EAAA,EAAAD,CAAAE,EAAA5D,EAAA6D,KAA4B,SAAAuB,EAAMrB,GAAN,IAAAsB,EAAApB,EAAA,OAAAL,EAAA5D,EAAAkE,KAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,cAElDgB,EAAmBE,mBAAmBtG,GAFYqG,EAAAjB,KAAA,EAI/B5B,EAAY6B,IAAZ,uCAAA7E,OAEZ4F,EAFY,gBAAA5F,OAGd+C,EAHc,UAAA/C,OAIpB0D,IARmD,OAIhDc,EAJgDqB,EAAAf,KAWtDR,EAAU,CACTrC,KAAM,eACNgD,QAAST,EAASU,KAAK1F,SAb8B,wBAAAqG,EAAAR,SAAAM,MAA5B,gBAAAI,GAAA,OAAAL,EAAAF,MAAAnG,KAAAyE,YAAA,IChErBkC,8LAGF3G,KAAKC,MAAM2G,UACX5G,KAAKC,MAAM4G,uBACX7G,KAAK8G,gDAGMC,GACXA,EAAMC,oDAIC,IAAAC,EAAAjH,KACTkH,YAAa,WACZxB,QAAQC,IAAI,gCACZsB,EAAKhH,MAAM4G,wBACT,sCAIH,OACC5F,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBAEdL,EAAAC,EAAAC,cAAA,uDAgBAF,EAAAC,EAAAC,cAACgG,EAAD,cAxCcrE,aAqDHC,cAPS,SAAAC,GACvB,MAAO,CACJU,KAAMV,EAAMU,KACZ0D,QAASpE,EAAMoE,UAIqB,CAAER,QDpDnB,eAAClD,EAADe,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAQ,UAAR,OAAsB,SAAAQ,GAC5CA,EAAU,CACTrC,KAAM,WACNgD,QAASlC,MCiDwCmD,qBD7Cf,iCAAAQ,EAAAzC,OAAAC,EAAA,EAAAD,CAAAE,EAAA5D,EAAA6D,KAAM,SAAAuC,EAAOrC,EAAUC,GAAjB,IAAAqC,EAAAC,EAAAC,EAAAvE,EAAA9C,EAAAsH,EAAAC,EAAAC,EAAAC,EAAA,OAAA/C,EAAA5D,EAAAkE,KAAA,SAAA0C,GAAA,cAAAA,EAAAxC,KAAAwC,EAAAvC,MAAA,cACnCgC,EAAiBd,mBAAmBvB,IAAWxB,MAE/C8D,EAAaO,IAAEC,KAAKD,IAAE1F,IAAK6C,IAAWhC,MAAO,SAHV4E,EAAAvC,KAAA,EAMnCN,EAASV,EAAWgD,IANe,OAAAE,EAQhBvC,IAAnBhC,EARmCuE,EAQnCvE,MAAO9C,EAR4BqH,EAQ5BrH,QAQbsH,GALIA,EAAWxE,EAAMnC,OAAO,SAACkH,EAAS3F,EAAG4F,GAElC,OADKA,EAAY7F,IAAI,SAAA8F,GAAU,OAAIA,EAAWC,MAClCpH,QAAQiH,EAAQG,OAAS9F,KAGxBvB,OAAO,SAAAb,GAAI,OAAuC,IAAnCsH,EAAWxG,QAAQd,EAAKmI,QAE3D3C,QAAQC,IAAI+B,GAMNC,EAAiBI,IAAEC,KAAKD,IAAE1F,IAAKa,EAAO,kBACtC0E,EAAeG,IAAE1F,IAAIjC,EAAS,SAC9ByH,EAAaF,EAAe5G,OAAO,SAAAZ,GAAM,OAAsC,IAAlCyH,EAAa5G,QAAQb,MAEzDwB,OAAS,GACvBkG,EAAWS,QAAS,SAAAnI,GAAM,OAAI8E,EAASmB,EAAYjG,EAAQoH,MA7BnB,yBAAAO,EAAA9B,SAAAsB,MAAN,gBAAAiB,EAAAC,GAAA,OAAAnB,EAAAlB,MAAAnG,KAAAyE,YAAA,KC6CrB1B,CAA4D4D,WCpD5D8B,cAAgB,CAC9BrI,QCRc,WAAwB,IAAvB4C,EAAuByB,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAf,GAAIiE,EAAWjE,UAAA9C,OAAA,EAAA8C,UAAA,QAAAC,EACtC,OAAQgE,EAAO9F,MACd,IAAK,eACJ,SAAAjC,OAAAiE,OAAA+D,EAAA,EAAA/D,CAAW5B,GAAX,CAAkB0F,EAAO9C,UAE1B,QACC,OAAO5C,IDGToE,QETc,WAAwB,IAAvBpE,EAAuByB,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAf,GAAIiE,EAAWjE,UAAA9C,OAAA,EAAA8C,UAAA,QAAAC,EACtC,OAAQgE,EAAO9F,MACd,IAAK,gBACJ,SAAAjC,OAAAiE,OAAA+D,EAAA,EAAA/D,CAAW5B,GAAX,CAAkB0F,EAAO9C,UAE1B,QACC,OAAO5C,IFITE,MGVc,WAAwB,IAAvBF,EAAuByB,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAf,GAAIiE,EAAWjE,UAAA9C,OAAA,EAAA8C,UAAA,QAAAC,EACtC,OAAQgE,EAAO9F,MACd,IAAK,cACJ,OAAO8F,EAAO9C,QAEf,QACC,OAAO5C,IHKTU,KIXc,WAAwB,IAAvBV,EAAuByB,UAAA9C,OAAA,QAAA+C,IAAAD,UAAA,GAAAA,UAAA,GAAf,GAAIiE,EAAWjE,UAAA9C,OAAA,EAAA8C,UAAA,QAAAC,EACtC,OAAQgE,EAAO9F,MACd,IAAK,WACJ,OAAO8F,EAAO9C,QAEf,QACC,OAAO5C,MCGV0C,QAAQkD,QAERC,IAASC,OACR7H,EAAAC,EAAAC,cAAC4H,EAAA,EAAD,CAAUC,MAAQC,YAAYC,EAAUC,YAAgBC,OACvDnI,EAAAC,EAAAC,cAACkI,EAAD,OAEDC,SAASC,cAAc","file":"static/js/main.6b722c5b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport ReactHtmlParser from 'react-html-parser';\nimport { connect } from 'react-redux';\nimport ReactTooltip from 'react-tooltip';\n\nclass FeaturedSongCard extends Component {\n\trender() {\n\t\t// Helper function to test whether a property exists\n\t\tconst exists = x => typeof x !== 'undefined';\n\n\t\t// Destructure props variables\n\t\tlet { song, artist, artists, date } = this.props;\n\t\t\t\t\n\t\t// Find calculated variables\n\t\tlet\tartistObj = artists.find( curr => curr.name === artist);\n\n\t\t// Tags that shouldn't display\n\t\tlet blockedTags = ['seen live', 'fip', 'under 2000 listeners', 'nickelodeon', `${artist}`];\n\n\t\tlet tagsF = [];\n\t\n\t\tif (exists(artistObj) ) {\n\t\t\ttagsF = artistObj.tags.tag.filter(tag => blockedTags.indexOf(tag.name) === -1);\n\t\t}\n\n\t\treturn (\n\t\t\t<div style={{marginTop: '14px'}} className=\"eight wide column\">\n\t\t\t\t<div className=\"ui items segment\">\n\t\t\t\t\t<div className=\"ui item \">\n\t\t\t\t\t  <div style={{'width': '250px'}} className=\"image\">\n\t\t\t\t\t    <img \n\t\t\t\t\t\t\talt=\"album art\" \n\t\t\t\t\t\t\tsrc={ song.image[3]['#text'].length > 0 ?\n\t\t    \t\t\t\t\t\t song.image[3]['#text'] :\n\t\t    \t\t\t\t\t\t 'https://semantic-ui.com/images/wireframe/image.png'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div className=\"content\">\n\t\t\t\t\t    <p className=\"header\">\"{song.name}\"</p>\n\t\t\t\t\t    <div className=\"meta\">\n\t\t\t\t\t      <span className=\"date\">\n\t\t\t\t\t      \t{ exists(song['@attr']) === true ?\n\t\t\t\t\t      \t\t'Currently listening':\n\t\t\t\t\t      \t\tdate }\n\t\t\t\t      \t  </span>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <div className=\"description\">\n\t\t\t\t\t      <span data-tip={ exists(artistObj) ? artistObj.stats.userplaycount : 'N/A'} \n\t\t\t\t\t         \t\tdata-for={artist + \"-featured-tip\"}>\n\t\t\t\t\t         {artist}\n\t\t\t\t\t         </span> — {song.album['#text']}\n\t\t\t\t\t    </div>\n\t\t\t\t\t\t<div className=\"extra\">\n\t\t\t\t\t    <p>\n\t\t\t\t\t      <i className=\"info icon\"/>\n\t\t\t\t\t      { exists(artistObj) && \n\t\t\t\t\t      \t(artistObj.bio.content.length < 1 ?\n\t\t\t\t\t      \t\t'N/A' : \n\t\t\t\t\t      \t\tartistObj.bio.content.length <= 375 ?\n\t\t\t\t\t      \t\t\tReactHtmlParser(artistObj.bio.content) :\n\t\t\t\t\t      \t\t\tReactHtmlParser(artistObj.bio.content.slice(0, 375) + '...')) }\n\t\t\t\t\t      \t\n\t\t\t\t\t    </p>\n\t\t\t\t\t    <p>\n\t\t\t\t\t    \t<i className=\"music icon\"></i>\n\t\t\t\t\t    \t{ \n\t\t\t\t\t    \t\ttagsF.map( (tag, i) => {\n\t\t\t\t\t\t\t\t\t\t\treturn i + 1 === tagsF.length ?\n\t\t\t\t\t\t\t\t\t\t\t\t`${tag.name}` :\n\t\t\t\t\t\t\t\t\t\t\t\t`${tag.name}, `;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t    </p>\n\n\t\t\t\t\t    <ReactTooltip\n\t\t\t\t\t    \tgetContent={(dataTip) => `Plays: ${dataTip}`} \n\t\t\t\t\t    \tid={artist + \"-featured-tip\"} \n\t\t\t\t\t    \tplace=\"left\" \n\t\t\t\t\t    \ttype=\"dark\" \n\t\t\t\t\t    \teffect=\"float\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nconst mapStateToProps = state => {\n\treturn { artists: state.artists }\n}\n\nexport default connect(mapStateToProps)(FeaturedSongCard)","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport ReactTooltip from 'react-tooltip';\n\nimport FeaturedSongCard from './FeaturedSongCard';\n\nclass RecentPlaysList extends Component {\n\n\trenderList() {\n\t\t// Helper function to test whether a property exists\n\t\tconst exists = x => typeof x !== 'undefined';\n\n\t\tlet { songs, artists } = this.props;\n\n\t\t// Map over all songs, checking for properties then returning JSX for each song\n\t\treturn songs.map( (song, i) => {\n\n\t\t\t// Check that all properties exist and assign accordingly\n\t\t\tlet name   = exists(song.name) ? song.name : 'N/A',\n\t\t\t\t\tartist = exists(song.artist) ? song.artist['#text'] : 'N/A',\n\t\t\t\t\talbum  = exists(song.album) ? song.album['#text'] : 'N/A',\n\t\t\t\t\tdate   = exists(song.date) ? moment.unix(song.date.uts).fromNow() : 'N/A';\n\n\t\t\t// Find the current song's artist info\n\t\t\tlet artistObj = artists.find( curr => curr.name === artist);\n\n\t\t\t// Tags that shouldn't display\n\t\t\tlet blockedTags = [ `${artist}`, 'seen live', 'fip', 'under 2000 listeners', 'nickelodeon'];\n\n\t\t\tlet tagsF = [];\n\t\t\t\n\t\t\tif (exists(artistObj) ) {\n\t\t\t\ttagsF = artistObj.tags.tag.filter(tag => blockedTags.indexOf(tag.name) === -1);\n\t\t\t}\n\n\t\t\t// Create larger cards for the two most recent tracks\n\t\t\tif (i < 2) {\n\t\t\t\treturn (\n\t\t\t\t\t<FeaturedSongCard \n\t\t\t\t\t\tsong={song} \n\t\t\t\t\t\tartist={artist}\n\t\t\t\t\t\tdate={date}\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t/>\n\t\t\t\t)\t\n\t\t\t}\n\t\t\t\n\t\t\t// The rest of the songs will be displayed four columns wide with less info\n\t\t\treturn (\n\t\t\t\t<div key={i} style={{marginTop: '14px'}} className=\"four wide column\">\n\t\t\t\t\t<div className=\"ui card\">\n\t\t\t\t\t\t<div className=\"image\">\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\talt=\"album art\" \n\t\t\t\t\t\t\t\tsrc={ song.image[3]['#text'].length > 0 ?\n\t\t\t    \t\t\t\t\t\t song.image[3]['#text'] :\n\t\t\t    \t\t\t\t\t\t 'https://semantic-ui.com/images/wireframe/image.png'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t<p className=\"header\">\"{name}\"</p>\n\t\t\t\t\t\t\t<div className=\"meta\">\n\t\t\t\t\t\t\t\t<span className=\"date\">{ date }</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"description\">\n\t\t\t\t\t\t\t\t<span data-tip={ exists(artistObj) ? artistObj.stats.userplaycount : 'N/A'} \n\t\t\t\t\t         \t\tdata-for={artist + \"tip\"}>\n\t\t\t\t\t         {artist}\n\t\t\t\t\t         </span> — {album}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"extra content\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<i className=\"info icon\" />\n\t\t\t\t\t\t\t\t{ exists(artistObj) ? \n\t\t\t\t\t\t\t\t\tartistObj.bio.content.slice(0, 100) + '...' :\n\t\t\t\t\t\t\t\t\t'Loading...' }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<i className=\"music icon\"></i>\n\t\t\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\t\ttagsF.map( (tag, i) => {\n\t\t\t\t\t\t\t\t\t\t\treturn i + 1 === tagsF.length ?\n\t\t\t\t\t\t\t\t\t\t\t\t`${tag.name}` :\n\t\t\t\t\t\t\t\t\t\t\t\t`${tag.name}, `;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t    <ReactTooltip\n\t\t\t\t\t\t    \tgetContent={(dataTip) => `Plays: ${dataTip}`} \n\t\t\t\t\t\t    \tid={artist + \"tip\"} \n\t\t\t\t\t\t    \tplace=\"left\" \n\t\t\t\t\t\t    \ttype=\"dark\" \n\t\t\t\t\t\t    \teffect=\"float\" />\n\t\t\t\t\t\t</div>\n\t\t\t    </div>\t\n\t\t\t\t</div>\n\t\t\t)\n\t\t}); \n\t} // End renderList()\n\n\trender(){\n\t\treturn (\n\t\t\t<div className='ui relaxed grid'>\n\t\t\t\t{ this.renderList() }\n\t\t\t</div> \n\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn { \n\t\tsongs: state.songs,\n\t\tartists: state.artists,\n\t\tuser: state.user\n\t }\n}\n\nexport default connect(mapStateToProps)(RecentPlaysList);","import axios from 'axios';\n\nconst axiosLastfm = axios.create({\n\tbaseURL: `https://ws.audioscrobbler.com/2.0/`\n});\n\nexport default axiosLastfm;","var Discogs = require('disconnect').Client;\n\nconst disconnect = new Discogs('WhatIsPlayingLastFM/1.0', {\n\t\tconsumerKey: 'DppIYtxGVQlPOvRJacAr',\n\t \tconsumerSecret: 'SoHlTcKDWajSgJTcNgWwHxlhlAGLdZPu'\n\t });\n\nexport default disconnect;","export const lastfmKeyAndConfig = `&api_key=${process.env.REACT_APP_LASTM_KEY}&format=json`;","import _ from 'lodash';\nimport axiosLastfm from '../apis/lastfm.js';\nimport disconnect from '../apis/disconnectDiscogs.js';\nimport { lastfmKeyAndConfig}  from '../apiKeys/lastfm.js';\n\nconst db = disconnect.database();\n\nexport const setUser = (user = 'grrtano') => dispatch => {\n\tdispatch( { \n\t\ttype: 'SET_USER',\n\t\tpayload: user\n\t});\n};\n\nexport const fetchSongsAndArtists = () => async (dispatch, getState) => {\n\tconst URIEncodedUser = encodeURIComponent(getState().user)\n\n\tconst stateMbids = _.uniq(_.map( getState().songs, 'mbid'));\n\t// console.log(stateMbids);\n\n\tawait dispatch(fetchSongs(URIEncodedUser));\n\n\tlet { songs, artists } = getState();\t\n\n\t// Helper function sourced from: https://ilikekillnerds.com/2016/05/removing-duplicate-objects-array-property-name-javascript/ \n\tlet newSongs = songs.filter((currObj, i, originalArr) => {\n\t\tlet urls = originalArr.map(currMapObj => currMapObj.url);\n        return urls.indexOf(currObj.url) === i; // .indexOf finds the first instance of the url, so every subsequent url in the array won't return `true` (ie be included in the filtered array) bc it won't match the current index `i`\n    });\n\n\tnewSongs = newSongs.filter(song => stateMbids.indexOf(song.mbid) === -1);\n\n\tconsole.log(newSongs);\n\n\t// if (newSongs.length > 0)\n\t// \tnewSongs.forEach( song => dispatch( fetchCredits(song) ) );\n\n\t// Check for any new artists\n\tconst fetchedArtists = _.uniq(_.map( songs, 'artist[#text]' ));\n\tconst stateArtists = _.map(artists, 'name');\t\t\t\n\tconst newArtists = fetchedArtists.filter(artist => stateArtists.indexOf(artist) === -1);\n\n\tif (newArtists.length > 0)\n\t\tnewArtists.forEach( artist => dispatch(fetchArtist(artist, URIEncodedUser)) );\n\n\t// Alternate functional programming/chain logic\n\t// _.chain( getState().songs )\n\t// \t.map('artist[#text]')\n\t// \t.uniq()\n\t// \t.forEach( artist => dispatch(fetchArtist(artist)) )\n\t// \t.value();\n\t\n}\n\nexport const fetchSongs = (user = '') => async (dispatch, getState) => {\n\tconst response = await axiosLastfm.get(\n\t\t`?method=user.getrecenttracks\n\t\t&user=${user}\n\t\t&limit=17\n\t\t${lastfmKeyAndConfig}`\n\t);\n\n\tconsole.log(response);\n\n\tdispatch( { \n\t\ttype: 'FETCH_SONGS',\n\t\tpayload: response.data.recenttracks.track\n\t});\n};\n\nexport const fetchArtist = (artist = '', user = '') => async dispatch => {\n\t// Encode properly so special characters like & and / don't break the API request\n\tlet URIEncodedArtist = encodeURIComponent(artist);\n\n\tconst response = await axiosLastfm.get(\n\t\t`?method=artist.getinfo\n\t\t&artist=${URIEncodedArtist}\n\t\t&user=${user}\n\t\t${lastfmKeyAndConfig}`\n\t);\n\n\tdispatch( { \n\t\ttype: 'FETCH_ARTIST',\n\t\tpayload: response.data.artist\n\t});\n};\n\nexport const fetchCredits = (song = '') => (dispatch, getState) => {\n\n\t// let { songs } = getState().songs;\n\t// Eliminate duplicates\n\t// let filteredSongs = _.uniq(_.map( songs, 'mbid'));\n\n\tconsole.log(song.name);\n\n\tlet response = db.search(\n\t\t\tsong.name,\n\t\t\t{page: 1, per_page: 10, artist: song.artist['#text'] },\n\t\t\tfunction(err, data){ return data.results } \n\t\t);\n\n\n\n\t// db.getRelease(176126, function(err, data){\n\t// \tconsole.log(data);\n\t// });\n\n\tdispatch( {\n\t\ttype: 'FETCH_CREDITS',\n\t\tpayload: response\n\t})\n}","import React, { Component } from 'react';\nimport RecentPlaysList from './RecentPlaysList';\nimport { connect } from 'react-redux';\n\nimport { setUser, fetchSongsAndArtists } from '../actions';\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.setUser();\n    this.props.fetchSongsAndArtists();\n    this.checkAPI();\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    // this.props.setUser();\n  }\n\n\tcheckAPI(){\n\t\tsetInterval( () =>{\n\t\t\tconsole.log('Checking for Last.fm updates');\n\t\t\tthis.props.fetchSongsAndArtists()\n\t\t}, 5000)\n\t}\n\t\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"ui container\">\n\t\t\t\t\n\t\t\t\t<h1>\n\t\t\t\t\tWhat Has Gaetano\n\t\t\t\t\t{/*<span className=\"ui transparent input\" style={{'width': '100px', 'color': 'red'}} >\n\t\t\t\t\t\t&nbsp;\n\t          <form \n\t            className=\"ui form\" \n\t            onSubmit={this.handleSubmit} \n\t          >\n\t            <input \n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"_______________\"\n\t            />\n\t          </form>\n\t\t\t\t\t</span>*/} \n\t\t\t\t\t &nbsp;Been Listening to?\n\t\t \t\t</h1>\n\t\t\t\t<RecentPlaysList />\n\t\t\t</div>\n\t\t)\n\t}\t\n}\n\nconst mapStateToProps = state => {\n\treturn { \n    user: state.user,\n    credits: state.credits\n  }\n}\n\nexport default connect(mapStateToProps, { setUser, fetchSongsAndArtists })(App);","import { combineReducers } from 'redux';\nimport artistReducer from './artistReducer';\nimport creditsReducer from './creditsReducer';\nimport songsReducer from './songsReducer';\nimport userReducer from './userReducer';\n\n\nexport default combineReducers({\n\tartists: artistReducer,\n\tcredits: creditsReducer,\n\tsongs: songsReducer,\n\tuser: userReducer\n});","export default (state = [], action) => {\n\tswitch (action.type){\n\t\tcase 'FETCH_ARTIST':\n\t\t\treturn [...state, action.payload];\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","export default (state = [], action) => {\n\tswitch (action.type){\n\t\tcase 'FETCH_CREDITS':\n\t\t\treturn [...state, action.payload];\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","export default (state = [], action) => {\n\tswitch (action.type){\n\t\tcase 'FETCH_SONGS':\n\t\t\treturn action.payload;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","export default (state = '', action) => {\n\tswitch (action.type){\n\t\tcase 'SET_USER':\n\t\t\treturn action.payload;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconsole.clear();\n\nReactDOM.render(\n\t<Provider store={ createStore(reducers, applyMiddleware(thunk)) }>\n\t\t<App />\n\t</Provider>,\n\tdocument.querySelector('#root')\n)"],"sourceRoot":""}